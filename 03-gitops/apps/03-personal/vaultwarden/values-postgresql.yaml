# Vaultwarden setup using existing PostgreSQL
# This uses your existing CloudNativePG setup

# Ingress configuration
ingress:
  enabled: true
  class: "nginx"
  hostname: "vaultwarden.your-domain.com"  # UPDATE THIS
  tls: true

# Domain setting - IMPORTANT
domain: "https://vaultwarden.your-domain.com"  # UPDATE THIS

# Database configuration - using existing PostgreSQL
database:
  type: "postgresql"
  host: "immich-postgres-rw"  # Your existing PostgreSQL cluster
  port: "5432"
  username: "vaultwarden"
  password: "vaultwarden"
  dbName: "vaultwarden"

# Storage for attachments
storage:
  data:
    name: "vaultwarden-data"
    size: "5Gi"
    class: "longhorn"

# Admin token - generate your own
adminToken:
  value: "GENERATE_RANDOM_TOKEN_HERE"  # UPDATE THIS

# Disable signups for personal use
signupsAllowed: false

# Resource limits
resources:
  limits:
    memory: "512Mi"
    cpu: "500m"
  requests:
    memory: "256Mi"
    cpu: "100m"